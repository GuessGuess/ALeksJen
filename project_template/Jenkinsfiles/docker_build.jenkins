#!groovy
// Run docker build
properties([disableConcurrentBuilds()])

pipeline {
    agent {
        dockerfile true
    }
    options {
            timestamps()
            buildDiscarder(logRotator(numToKeepStr: '30', artifactNumToKeepStr: '30'))
        }
    stages {
        stage('Create docker image') {
            steps {
                echo "========== start building image =========="
                sh 'docker run hello-world'
            }
        }
    }
}